<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Countdown to Chicken Time</title>

    <style>
        /* Background Video */
        #bgVideo {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -2;
            opacity: 0.35;
        }

        body {
            background: #fdf2d0;
            font-family: Arial, sans-serif;
            text-align: center;
            color: #333;
            padding: 40px;
            position: relative;
            z-index: 2;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px #fff;
        }

        #countdown {
            font-size: 2.5rem;
            font-weight: bold;
            margin-top: 20px;
            text-shadow: 1px 1px 3px #fff;
        }

        /* Chicken Fact Box */
        #factBox {
            background: rgba(255, 245, 206, 0.88);
            border: 2px solid #e0b84a;
            padding: 20px;
            border-radius: 10px;
            margin: 30px auto;
            width: 80%;
            font-size: 1.2rem;
            box-shadow: 0px 4px 8px rgba(0,0,0,0.15);
        }

        /* Animated Chickens */
        .chicken-container {
            margin-top: 40px;
            display: flex;
            justify-content: center;
            gap: 40px;
        }

        .chicken {
            font-size: 4.5rem;
            display: inline-block;
            animation: bobbing 1.6s ease-in-out infinite;
            text-shadow: 2px 2px 4px #fff;
        }

        .chicken:nth-child(2) { animation-delay: 0.3s; }
        .chicken:nth-child(3) { animation-delay: 0.6s; }

        @keyframes bobbing {
            0%   { transform: translateY(0); }
            50%  { transform: translateY(-18px); }
            100% { transform: translateY(0); }
        }

        #audioButton {
            margin-top: 35px;
            padding: 14px 24px;
            font-size: 1.2rem;
            background: #ffca57;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }

        /* Big Dancing Chicken GIF */
        #bigChicken {
            margin-top: 40px;
            width: 260px;
            animation: wobble 2s ease-in-out infinite;
            filter: drop-shadow(2px 2px 2px #fff);
        }

        @keyframes wobble {
            0% { transform: rotate(0deg); }
            40% { transform: rotate(6deg); }
            60% { transform: rotate(-6deg); }
            100% { transform: rotate(0deg); }
        }
    </style>
</head>
<body>

    <!-- Background Video -->
    <video autoplay muted loop playsinline id="bgVideo">
        <source src="https://cdn.pixabay.com/vimeo/351438241/chicks-22891.mp4?width=1280" type="video/mp4">
    </video>

    <h1>üêî Countdown to Chicken Time</h1>
    <div id="countdown">Loading‚Ä¶</div>

    <button id="audioButton">üîä Start Chicken Time Audio</button>

    <!-- Dancing Chicken GIF -->
    <img id="bigChicken" src="https://media.tenor.com/RrDXr6Iju50AAAAi/chicken-dance.gif" alt="Dancing Chicken">

    <!-- Chicken Fact of the Day -->
    <div id="factBox">Loading chicken fact‚Ä¶</div>

    <div class="chicken-container">
        <div class="chicken">üêî</div>
        <div class="chicken">üçó</div>
        <div class="chicken">üêî</div>
    </div>

    <script>
        let audioCtx;
        let audioEnabled = false;

        const audioButton = document.getElementById("audioButton");
        const factBox = document.getElementById("factBox");

        /* -------------------------------
           CHICKEN FACT OF THE DAY
        --------------------------------*/
        const chickenFacts = [
            "Chickens can remember over 100 different faces ‚Äî human and chicken.",
            "A chicken‚Äôs vocabulary includes over 30 unique clucks and calls.",
            "The world‚Äôs oldest chicken lived to be 16 years old.",
            "Chickens dream while they sleep, just like humans.",
            "Chickens are the closest living relative to the T. rex.",
            "A hen can lay more than 300 eggs per year.",
            "Roosters have built‚Äìin 'earmuffs' made of feathers!",
            "Baby chicks communicate with their mother before hatching.",
            "Chickens can see colors better than humans.",
            "Chickens purr when they‚Äôre happy ‚Äî similar to cats."
        ];

        function showDailyFact() {
            const day = Math.floor(Date.now() / (1000 * 60 * 60 * 24));
            const fact = chickenFacts[day % chickenFacts.length];
            factBox.textContent = "üê£ Chicken Fact of the Day: " + fact;
        }
        showDailyFact();


        /* -------------------------------
           AUDIO STARTUP
        --------------------------------*/
        audioButton.addEventListener("click", () => {
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            audioEnabled = true;
            audioButton.style.display = "none";

            startBackgroundLoop();
            randomClucks();
            randomBawks();
        });


        /* -------------------------------
           BACKGROUND MUSIC LOOP
        --------------------------------*/
        function startBackgroundLoop() {
            const tempo = 550;
            const notes = [440, 554, 659, 554];

            let i = 0;
            function playNote() {
                if (!audioEnabled) return;

                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();

                osc.frequency.value = notes[i % notes.length];
                osc.type = "sine";

                gain.gain.setValueAtTime(0.0001, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.12, audioCtx.currentTime + 0.05);
                gain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.3);

                osc.connect(gain).connect(audioCtx.destination);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.31);

                i++;
                setTimeout(playNote, tempo);
            }
            playNote();
        }


        /* -------------------------------
           RANDOM CLUCKS
        --------------------------------*/
        function randomClucks() {
            if (!audioEnabled) return;

            const interval = Math.random() * 3500 + 2500;

            setTimeout(() => {
                playCluck();
                randomClucks();
            }, interval);
        }

        function playCluck() {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();

            osc.type = "square";
            osc.frequency.setValueAtTime(700, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(200, audioCtx.currentTime + 0.15);

            gain.gain.setValueAtTime(0.0001, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.4, audioCtx.currentTime + 0.05);
            gain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.2);

            osc.connect(gain).connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.25);
        }


        /* -------------------------------
           NEW RANDOM BAWKS
        --------------------------------*/
        function randomBawks() {
            if (!audioEnabled) return;

            const interval = Math.random() * 6000 + 4000;

            setTimeout(() => {
                playBawk();
                randomBawks();
            }, interval);
        }

        function playBawk() {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();

            osc.type = "triangle";
            osc.frequency.setValueAtTime(300, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(90, audioCtx.currentTime + 0.2);

            gain.gain.setValueAtTime(0.0001, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.6, audioCtx.currentTime + 0.07);
            gain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.25);

            osc.connect(gain).connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.3);
        }


        /* -------------------------------
           CHICKEN TIME SQUAWK
        --------------------------------*/
        function chickenTimeSquawk() {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();

            osc.type = "sawtooth";
            osc.frequency.setValueAtTime(300, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(900, audioCtx.currentTime + 0.4);

            gain.gain.setValueAtTime(0.0001, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(1.0, audioCtx.currentTime + 0.1);
            gain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.45);

            osc.connect(gain).connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.5);
        }


        /* -------------------------------
           COUNTDOWN
        --------------------------------*/
        function updateCountdown() {
            const targetDate = new Date("2025-11-29T19:00:00-06:00");
            const now = new Date();
            const diff = targetDate - now;

            if (diff <= 0) {
                document.getElementById("countdown").innerHTML =
                    "It‚Äôs Chicken Time! üçóüî•";

                if (audioEnabled) {
                    chickenTimeSquawk();
                }

                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const minutes = Math.floor((diff / (1000 * 60)) % 60);
            const seconds = Math.floor((diff / 1000) % 60);

            document.getElementById("countdown").innerHTML =
                `${days}d ${hours}h ${minutes}m ${seconds}s`;
        }

        updateCountdown();
        setInterval(updateCountdown, 1000);
    </script>
</body>
</html>
